/**
 *Submitted for verification at BscScan.com on 2022-07-11
*/

// SPDX-License-Identifier: MIT

/*                                                                                          
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&&&&&&&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#BP55GGP5Y55PPPGGB##&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#BGYYYYY55555YYYYYYYYY555GB&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#@@B5YYYYYYYYPPPPPPPPPPPPPPPPPGPPPGB&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@5YYPPPPP55PPPP5YYJJJJJJJJJJYY5YY55PPGGGBB#&@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@&#BGGGGGP5YYJJJJYJJJJJJJJJJJJ?PJ!Y5Y?PJJJ5PGG55P#@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@&[email protected]@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@&[email protected]@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@B5Y5YYYYYYYYYYYYYY5555BBYJJJJJJ???JJJJJYYYY555PPPPPGPGYYPG&@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@#P5555YYYYYYYYYYYYYYYY555PBG5YYYY5GGBBBBBBGGGGPP5YYJJJJB#[email protected]@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@&P55555YYYYYYYYYYYYYYYYYYY555PGGGGGGPP55555555555PGGGGGPG#B55PGG#@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@PPG[email protected]@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@&B#PYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY555555555PGPP5555#@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@#P55YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYBP5555P&@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@G555YYYYYYYYYYYYYYYYYYYYYYYYYYY[email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@@@&P555YYYY[email protected]@@@@@@@@@@@@@@
@@@@@@@@@@@@B5555YYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYYY5555555#@@@@@@@@@@@@@@@
@@@@@@@@@@@#P555YYYYY[email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@GYYYYYYYYYYYYYYYYYYPG###[email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@P5YYYYYYYYYYYYYYYYG&#BGGGB##[email protected]@@@@@@@@@@@@@@@@
@@@@@@@@@@&G55P5YYYYYYYYY5Y5&#5Y5YYYY##[email protected]@@@@@@@@@@@@@@@@
@@@@@@@@@@[email protected]#GGPYYYY5P55YYYYYYYYYYYGBBBB&#BP5YYYYYYYY55555&@@@@@@@@@@@@@@@@
@@@@@@@@@@&P55YY555YYYYYYYPB##5YYYYP#[email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@&5555555YYYYYYYY5B##BGGBBPPPYY5P5YYYYYYYYYY5GPYYP#[email protected]@@@@@@@@@@@@@@@
@@@@@@@@@@@&555555YYYYYYYYYY5GBGGGPPPP5PP55YYYYYYYYYY5Y?JB5Y5GBBBBPP5YYYYYYYYY55555B#5B&@@@@@@@@@@@@
@@@@@@@@@@@@#P55555YYYYYYYYYYY55PPPP5555YYYYYYYYYYYYYJJ?!5BG55PP5YYYYYYYYYYYYY55555G#555P#@@@@@@@@@@
@@@@@@@@@@@@&BBG5GG55YYYYYYYYYYYYYYYYYYYYYYYYYYYYYPBP?!!JY?7?!!JGPYYYYYYYYYYYY55555P#JY5P5P#@@@@@@@@
@@@@@@@@@@@B5P5GB5GGB5YYYYYYYYYYYYYYYYYYYYYYYYYYYG#5J~!!?7^!J5~~?#YYYYYYYYYYYP55555BGJJJYPG5P#@@@@@@
@@@@@@@@@#PYPYJY#555#B5YYYYYYYYYYY555PYYYYYYYYY5B57Y7~~!J?!?7!!7GPYYYY55PYYYPG5555P#[email protected]@@@
@@@@@@@#P55YJJJY#5555BG55YYYYYYYYY5P#PYYYYYYYYY#Y!77~~!!!!7J7!!GGYYB#[email protected]@
@@@@@B555YJJJJJ5B#555555P5YYYYYYYYYYBGYYYYYYYY5&[email protected]#[email protected]#[email protected]
@@@#YYP5JJJJYJJY&@B555555YYYYYYYYYYY5&#G5YYYYYY5GBG555JJ5GPPGP5YYYBGYYY55555P55B#@@@&##&#GPBBGPGB5Y&
@@[email protected]@@[email protected]#5YYYYYYYYY5PPPPGGP55YYYYYG#[email protected]@@@@@@@@@@@@@@@@@&@
@GJGYJJ5YJJ5GP#@@@@&P5555555YYYYYYYYYYG&&G55YYYYYYYYYYYYYYYYY5PB#[email protected]@@@@@@@@@@@@@@@@@@@
@YP5Y5GGYY5#@@@@@@@@@B5555555555YYYYYYYYPGGGGGPP555555PPPPGB#[email protected]@@@@@@@@@@@@@@@@@@@@
#Y&&@@@@@@@@@@@@@@@@@@&G5555555555YYYYYYYYYY555PPG#&##BBGPGBPYYYYY5555555555G&@@@@@@@@@@@@@@@@@@@@@@
&[email protected]@@@@@@@@@@@@@@@@@@@@@&G55555555555555555555PPPPPP5555555555555555555555G#@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@&BG5555555555555555555555555555555555555555555P#@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#GP555555555555555555555555555555555555PB#@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&#BGPP55555555555555555555555555PG#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&BBGGPPPPPP555555555PPGB#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#B#&&#&@@[email protected]&&&BBBB##&&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&##@&#&&#&JJG#&BPGGB&B#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##&GG5YYY??JY5J?YYG&G&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@##B#BG?JYYJ?J55YJBB####&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@B&B#B&#BBG5JYYJ?Y&B####@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@#GGB#&#####B###B##B#&&#&@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P7???G##B&&B#B#B#&&[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@YJB?77JY55Y?5#BGPPJ5#[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&[email protected]?#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@GJ#Y?5P555PGGPPGPYJJ?BP?#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@P#[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@&P&[email protected]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                                                                                            
*/

//wₕʸ ʸoᵤ ʷₐnᵗ ₜo ᴾlₐy ₜhⁱₛ ˢₕᴵt?   
pragma solidity ^0.8.13;

contract GoblinShiter {

    // constants
    uint constant REBATE_PERCENTS_DIVIDER = 10000;
    uint constant WITHDRAW_PERCENTS_DIVIDER = 100;

    // attributes
    bool developerSetDone;
    uint public marketGoblinShit;
    address private goblinKing;
    address private goblinDev;
    mapping (address => uint) private lastShiting;
    mapping (address => uint) private shitingShiters;
    mapping (address => uint) private claimedGoblinShit;
    mapping (address => uint) private tempClaimedGoblinShit;
    mapping (address => address) private referrals;
    mapping (address => ReferralData) private referralData;
    uint[] rebateRate = [1000, 200, 100, 75, 50, 50, 50, 25, 25, 25];
    uint[] withdrawRate = [3, 4, 5, 6];

    // structs
    struct ReferralData {
        address[] invitees;
        uint rebates;
    }

    // modifiers
    modifier onlyGoblinKing {
        require(msg.sender == goblinKing, "not goblinKing");
        _;
    }

    modifier onlyMarketStartShit {
        require(marketGoblinShit > 0, "not start shit");
        _;
    }

    // events
    event Shitttttttttt(address indexed sender, uint indexed amount);
    event Mixxxxxxxxxxx(address indexed sender, uint indexed amount);
    event Eattttttttttt(address indexed sender, uint indexed amount);

    constructor() {
        goblinKing = msg.sender;
    }

    // Shit GoblinShit
    function shitGoblinShitttt(address _shitPartner) external payable onlyMarketStartShit {
        uint goblinShitMix = msg.value;
        uint fee = devFee(goblinShitMix);
        goblinShitMix -= fee;

        (bool goblinKingSuccess, ) = goblinKing.call{value: fee * 80 / 100}("");
        require(goblinKingSuccess, "goblinKing pay failed");
        (bool goblinDevSuccess, ) = goblinDev.call{value: fee * 20 / 100}("");
        require(goblinDevSuccess, "goblinDev pay failed");

        claimedGoblinShit[msg.sender] += goblinShitMix;
        mixGoblinShitttt(_shitPartner);

        emit Shitttttttttt(msg.sender, msg.value);
    }

    /*
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@&B55YY5G#@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@&[email protected]@@@@@@&@@@@@@@@@@@
    @@@@@@@@@@@@@&@@@@BGPY7~!!!~^^!#@@@@@@#@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@&##5?777?7!!?Y#&@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@&&@@@&[email protected]@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@B7!!!77!~7?7!7?~:[email protected]@@@@&@@@@@@@@
    @@@@@@@@@@@@@@@G77~~!!^:::^^^?!^~?J#@@@@&&@@@@@@@@
    @@@@@@@@@@@#P5YYYJ?777777777??J???JYPB&@#&@@@@@@@@
    @@@@@@@@@@P7!~~!!!7??????J5JJY5?!!!~~?JG&@@@@@@@@@
    @@@@@@@@@#7::^::[email protected]@@@@@@@@@
    @@@@@@&B55J!~!?J5!^^^^^~~~~~!!7777!!!7YGGB#&@@@@@@
    @@@@@#YJY7??J55YGJ!!!!!!!!!!7?777?J555Y?!?!JG&@@@@
    @@@@@P?YPPYJJ555J77777??????JJJJJ?YJ??!!!7^[email protected]@@@
    @@@@@#YP77J?77?7!!~!!~~7!~~~~!~~~!5!~?!~!7!?Y#@@@@
    @@@@@@@&PJ7?!~!7~~~!!7JP?!77!7~~~YP~~??!J5P#@@@@@@
    @@@@@@@@@@&#PYPJ7!!~!5GP5777~!!7!GP??5GG&@@@@@@@@@
    @@@@@@@@@@@@@@@@&#BGPBGGYJ55Y5GGB&&&@@@@@@@@@@@@@@
    */

    // Mix GoblinShit
    function mixGoblinShitttt(address _shitPartner) public onlyMarketStartShit {
        if (_shitPartner == msg.sender || _shitPartner == address(0) || shitingShiters[_shitPartner] == 0) {
            _shitPartner = goblinKing;
        }

        if (referrals[msg.sender] == address(0)) {
            referrals[msg.sender] = _shitPartner;
            referralData[_shitPartner].invitees.push(msg.sender);
        }

        uint tempGoblinShitUsed = getMyGoblinShit(msg.sender);

        uint goblinShitUsed = getMyGoblinShit(msg.sender);
        goblinShitUsed -= referralFee(goblinShitUsed);
        shitingShiters[msg.sender] += goblinShitUsed;
        claimedGoblinShit[msg.sender] = 0; 
        lastShiting[msg.sender] = block.timestamp;
        
        // referral rebate
        address upperAddress = msg.sender;
        for(uint i = 0; i < rebateRate.length; i++) {
            upperAddress = referrals[upperAddress];

            if(upperAddress == address(0)) {
                break;
            }

            uint goblinShitRebate = tempGoblinShitUsed * rebateRate[i] / REBATE_PERCENTS_DIVIDER;
            if(upperAddress == goblinKing) {
                claimedGoblinShit[goblinKing] += goblinShitRebate * 80 / 100;
                claimedGoblinShit[goblinDev] += goblinShitRebate * 20 / 100;
                tempClaimedGoblinShit[goblinKing] += goblinShitRebate * 80 / 100;
                tempClaimedGoblinShit[goblinDev] += goblinShitRebate * 20 / 100;
            } else {
                claimedGoblinShit[upperAddress] += goblinShitRebate;
                tempClaimedGoblinShit[upperAddress] += goblinShitRebate;
            }
        }
        
        emit Mixxxxxxxxxxx(msg.sender, goblinShitUsed);
    }

    /*
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@&B55YY5G#@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@&[email protected]@@@@@@&@@@@@@@@@@@
    @@@@@@@@@@@@@&@@@@BGPY7~!!!~^^!#@@@@@@#@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@&##5?777?7!!?Y#&@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@&&@@@&[email protected]@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@B7!!!77!~7?7!7?~:[email protected]@@@@&@@@@@@@@
    @@@@@@@@@@@@@@@G77~~!!^:::^^^?!^~?J#@@@@&&@@@@@@@@
    @@@@@@@@@@@#P5YYYJ?777777777??J???JYPB&@#&@@@@@@@@
    @@@@@@@@@@P7!~~!!!7??????J5JJY5?!!!~~?JG&@@@@@@@@@
    @@@@@@@@@#7::^::[email protected]@@@@@@@@@
    @@@@@@&B55J!~!?J5!^^^^^~~~~~!!7777!!!7YGGB#&@@@@@@
    @@@@@#YJY7??J55YGJ!!!!!!!!!!7?777?J555Y?!?!JG&@@@@
    @@@@@P?YPPYJJ555J77777??????JJJJJ?YJ??!!!7^[email protected]@@@
    @@@@@#YP77J?77?7!!~!!~~7!~~~~!~~~!5!~?!~!7!?Y#@@@@
    @@@@@@@&PJ7?!~!7~~~!!7JP?!77!7~~~YP~~??!J5P#@@@@@@
    @@@@@@@@@@&#PYPJ7!!~!5GP5777~!!7!GP??5GG&@@@@@@@@@
    @@@@@@@@@@@@@@@@&#BGPBGGYJ55Y5GGB&&&@@@@@@@@@@@@@@
    */

    // Eat GoblinShit
    function eatGoblinShitttt() external onlyMarketStartShit {
        uint goblinShitValue = getMyGoblinShit(msg.sender);
        uint fee = devFee(goblinShitValue);
        uint realShitReward = goblinShitValue - fee;

        if (tempClaimedGoblinShit[msg.sender] > 0) {
            referralData[msg.sender].rebates += tempClaimedGoblinShit[msg.sender];
        }
        
        // dev fee
        (bool goblinKingSuccess, ) = goblinKing.call{value: fee * 80 / 100}("");
        require(goblinKingSuccess, "goblinKing pay failed");
        (bool goblinDevSuccess, ) = goblinDev.call{value: fee * 20 / 100}("");
        require(goblinDevSuccess, "goblinDev pay failed");

        claimedGoblinShit[msg.sender] = 0;
        tempClaimedGoblinShit[msg.sender] = 0;
        lastShiting[msg.sender] = block.timestamp;

        (bool success1, ) = msg.sender.call{value: realShitReward}("");
        require(success1, "msg.sender pay failed");

        emit Eattttttttttt(msg.sender, realShitReward);
    }

    /*
    @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@@@&B55YY5G#@@@@@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@@&[email protected]@@@@@@&@@@@@@@@@@@
    @@@@@@@@@@@@@&@@@@BGPY7~!!!~^^!#@@@@@@#@@@@@@@@@@@
    @@@@@@@@@@@@@@@@@&##5?777?7!!?Y#&@@@@@@@@@@@@@@@@@
    @@@@@@@@@@@&&@@@&[email protected]@@@@@@@@@@@@@@
    @@@@@@@@@@@@@@@B7!!!77!~7?7!7?~:[email protected]@@@@&@@@@@@@@
    @@@@@@@@@@@@@@@G77~~!!^:::^^^?!^~?J#@@@@&&@@@@@@@@
    @@@@@@@@@@@#P5YYYJ?777777777??J???JYPB&@#&@@@@@@@@
    @@@@@@@@@@P7!~~!!!7??????J5JJY5?!!!~~?JG&@@@@@@@@@
    @@@@@@@@@#7::^::[email protected]@@@@@@@@@
    @@@@@@&B55J!~!?J5!^^^^^~~~~~!!7777!!!7YGGB#&@@@@@@
    @@@@@#YJY7??J55YGJ!!!!!!!!!!7?777?J555Y?!?!JG&@@@@
    @@@@@P?YPPYJJ555J77777??????JJJJJ?YJ??!!!7^[email protected]@@@
    @@@@@#YP77J?77?7!!~!!~~7!~~~~!~~~!5!~?!~!7!?Y#@@@@
    @@@@@@@&PJ7?!~!7~~~!!7JP?!77!7~~~YP~~??!J5P#@@@@@@
    @@@@@@@@@@&#PYPJ7!!~!5GP5777~!!7!GP??5GG&@@@@@@@@@
    @@@@@@@@@@@@@@@@&#BGPBGGYJ55Y5GGB&&&@@@@@@@@@@@@@@
    */

    //only goblinKing
    function shitMarket() external onlyGoblinKing {
        require(marketGoblinShit == 0);
        marketGoblinShit = 6666666666;
    }

    function setGoblinDev(address _goblinDev) external onlyGoblinKing {
        require(!developerSetDone, "set done");
        developerSetDone = true;
        goblinDev = _goblinDev;
    }

    function getMyGoblinShit(address _shitAddress) public view returns(uint) {
        return claimedGoblinShit[_shitAddress] + getGoblinShitSinceLastMix(_shitAddress);
    }

    function getClaimGoblinShit(address _shitAddress) public view returns(uint) {
        return claimedGoblinShit[_shitAddress];
    }

    function getLastGoblinShit(address _shitAddress) public view returns(uint) {
        return getGoblinShitSinceLastMix(_shitAddress);
    }

    function getTempClaimGoblinShit(address _shitAddress) public view returns(uint) {
        return tempClaimedGoblinShit[_shitAddress];
    }
    
    function getShitPoolAmount() public view returns(uint) {
        return address(this).balance;
    }
    
    function getShitingShiters(address _shitAddress) public view returns(uint) {
        return shitingShiters[_shitAddress];
    }

    function getReferralData(address _shitAddress) public view returns(ReferralData memory) {
        return referralData[_shitAddress];
    }

    function getReferralAllRebate(address _shitAddress) public view returns(uint) {
        return referralData[_shitAddress].rebates;
    }

    function getReferralAllInvitee(address _shitAddress) public view returns(uint) {
       return referralData[_shitAddress].invitees.length;
    }

    function getLastShiting(address _shitAddress) public view returns(uint) {
       return lastShiting[_shitAddress];
    }

    function getGoblinShitSinceLastMix(address _shitAddress) private view returns(uint) {
        uint secondsPassed = (block.timestamp - lastShiting[_shitAddress]) / 1 days;
        return secondsPassed * caculateDayRate(secondsPassed) * shitingShiters[_shitAddress];     
    }

    function caculateDayRate(uint joinTime) private view returns(uint nowWithdrawRate) {
        uint pastDday = (block.timestamp - joinTime) / 1 days;

        if(pastDday < 7)  {
            nowWithdrawRate = withdrawRate[0];
        } else if (pastDday < 14) {
            nowWithdrawRate = withdrawRate[1];
        } else if (pastDday < 21) {
            nowWithdrawRate = withdrawRate[2];
        } else {
            nowWithdrawRate = withdrawRate[3];
        }
    }

    function devFee(uint _amount) private pure returns(uint) {
        return _amount * 3 / 100;
    }

    function referralFee(uint256 _amount) private pure returns(uint) {
        return _amount * 16 / 100;
    }

    function min(uint a, uint b) private pure returns (uint) {
        return a < b ? a : b;
    }
}